{"version":3,"sources":["hooks/useCurrentSpace.js","hooks/useWallet.js","constants/index.js","utils/index.js","images/not-allow.png","../public/locales/index.js","hooks/useCurrentNetwork.js","hooks/useIsNetworkMatch.js","pages/components/Header/index.js","utils/cfx.js","pages/Home/index.js","hooks/useController.js","hooks/usePoolContract.js","pages/Pool/Header.js","pages/Pool/ConfirmModal.js","pages/Pool/TxModal.js","images/success_big.png","pages/Pool/index.js","App.js","reportWebVitals.js","index.js","../pool.config.js"],"names":["useCurrentSpace","pathname","useLocation","startsWith","useAccount","currentSpace","fluentAccount","useFluentAccount","metaMaskAccount","useMetaMaskAccount","NETWORK_ID_CORE_MAINNET","poolConfig","mainnet","core","networkId","NETWORK_ID_CORE_TESTNET","testnet","NETWORK_ID_ESPACE_MAINNET","eSpace","NETWORK_ID_ESPACE_TESTNET","CFX_BASE_PER_VOTE","SCAN_URL","StatusPosNode","isTestNetEnv","window","process","REACT_APP_TestNet","location","hostname","includes","getCfxByVote","vote","BigNumber","multipliedBy","toNumber","getApy","data","dividedBy","getFee","userFee","minus","calculateGasMargin","value","margin","toString","plus","toFixed","getDateByBlockInterval","minuend","subtrahend","space","minuendBn","subtrahendBn","isGreater","isGreaterThan","seconds","futureDate","Date","now","pastDate","getEllipsStr","str","frontNum","endNum","length","substring","getPrecisionAmount","amount","precision","i18n","use","initReactI18next","init","lng","config","defaultLang","debug","resources","en","translation","zh","id","vn","ko","interpolation","escapeValue","useCurrentNetwork","useMemo","url","RPC","origin","name","useIsNetworkMatch","currentNetwork","fluentChainId","useFluentChainId","metaMaskChainId","useMetaMaskChainId","usedChainId","String","Option","Select","Header","Layout","isTest","HeaderComp","t","useTranslation","address","tryActivate","connectFluent","connectMetaMask","networkError","style","width","height","padding","className","to","marginRight","defaultValue","language","onChange","changeLanguage","type","onClick","createPortal","src","NotAllow","alt","network","document","body","cfxUrl","conflux","Conflux","posPoolManagerContract","Contract","abi","posManagerAbi","poolManagerAddress","getPosAccountByPowAddress","posPoolContract","posPoolAbi","format","posAddress","hex","provider","call","posAccout","Home","useState","dataList","setDataList","loading","setLoading","navigate","useNavigate","gotoPoolPage","coreAddress","columns","title","key","dataIndex","render","status","color","text","record","size","RightCircleOutlined","fontSize","eSpaceAddress","useEffect","getPools","list","Promise","allSettled","map","pool","eSpacePoolAddresses","eSpaceAddresses","transferData","console","log","getData","arr","proArr","forEach","item","push","all","proRes","index","hexAddress","undefined","totalAvailable","apy","fee","forceRetired","dataSource","pagination","useController","ethers","providers","JsonRpcProvider","usePoolContract","poolAddress","useParams","controller","contract","interface","utils","Interface","usePosPoolContract","lockedCfx","setLockedCfx","totalRevenue","setTotalRevenue","setApy","setName","poolSummary","poolAPY","poolName","_hex","Drip","toCFX","fetchData","cardStyle","backgroundColor","borderRadius","fontWeight","cardHeadStyle","opacity","bordered","headStyle","icon","SyncOutlined","spin","transform","CheckCircleOutlined","CloseCircleOutlined","getStatusTag","ConfirmModal","visible","setVisible","onOk","content","okText","onCancel","TxModal","txHash","networkVersion","getNetworkUrl","maskClosable","footer","href","target","rel","Pool","chainId","useChainId","accountAddress","sendTransaction","sendTransactionWithFluent","sendTransactionWithMetaMask","Form","useForm","form","_balance","fluentBalance","useFluentBalance","metaMaskBalance","useMetaMaskBalance","useBalance","balance","toDecimalStandardUnit","cfxMaxCanStake","isGreaterThanOrEqualTo","multiple","Math","floor","getMax","useSearchParams","searchParams","posPoolInterface","setStatus","stakedCfx","setStakedCfx","rewards","setRewards","setFee","cfxCanUnstake","setCfxCanUnstate","cfxCanWithdraw","setCfxCanWithdraw","inputStakeCfx","setInputStakeCfx","inputUnstakeCfx","setInputUnstakeCfx","userSummary","setUserSummary","currentBlockNumber","setCurrentBlockNumber","lastDistributeTime","setLastDistributeTime","unstakeList","setUnstakeList","stakeModalShown","setStakeModalShown","unstakeModalShown","setUnStakeModalShown","txModalShown","setTxModalShown","setTxHash","stakeInputStatus","setStakeInputStatus","stakeErrorText","setStakeErrorText","unstakeInputStatus","setUnstakeInputStatus","unstakeErrorText","setUnstakeErrorText","stakeBtnDisabled","setStakeBtnDisabled","unstakeBtnDisabled","setUnstakeBtnDisabled","isLoading","setIsLoading","waitStakeRes","setWaitStakeRes","isNetworkMatch","confluxController","fetch","JSON","stringify","jsonrpc","method","params","headers","then","response","json","res","result","currentBlock","blockNumber","lastDistribute","lastDistributeBlock","toLocaleString","get","posAccount","stakeCfxNum","Number","error","cfxNum","fetchPoolData","useCallback","userInterest","userOutQueue","userSum","transferQueue","userShareRatio","from","poolUserShareRatio","queueList","timeStr","submit","message","estimateData","stakeVote","increaseStake","estimateGasAndCollateral","encodeFunctionData","unstakeVote","decreaseStake","claimAllInterest","withdrawStake","txParams","Unit","fromMinUnit","toHexMinUnit","metaMaskProvider","request","gasLimit","gas","storageCollateralized","storageLimit","checkNetwork","callback","position","layout","wrapperCol","Item","required","validateStatus","help","span","placeholder","e","disabled","dashed","borderColor","isEqualTo","orientation","renderItem","time","Content","App","fallback","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","completeDetect","completeDetectEthereum","ReactDOM","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.4eaf2dfe.chunk.js","sourcesContent":["import {useLocation} from 'react-router-dom'\n\nconst useCurrentSpace = () => {\n    const { pathname } = useLocation();\n    return pathname.startsWith('/pool/core/') ? 'core' : (pathname.startsWith('/pool/e-space/') ? 'eSpace' : null);\n}\n\nexport default useCurrentSpace;\n","import useCurrentSpace from './useCurrentSpace'\nimport {\n  useAccount as useFluentAccount,\n  useChainId as useFluentChainId,\n  useBalance as useFluentBalance,\n  sendTransaction as sendTransactionWithFluent,\n  connect as connectFluent,\n  Unit,\n} from '@cfxjs/use-wallet'\nimport {\n  useAccount as useMetaMaskAccount,\n  useChainId as useMetaMaskChainId,\n  useBalance as useMetaMaskBalance,\n  sendTransaction as sendTransactionWithMetaMask,\n  connect as connectMetaMask,\n} from '@cfxjs/use-wallet/dist/ethereum'\n\nexport const useAccount = () => {\n  const currentSpace = useCurrentSpace()\n  const fluentAccount = useFluentAccount()\n  const metaMaskAccount = useMetaMaskAccount();\n  if (!currentSpace) return undefined\n  return (currentSpace === 'core' ? fluentAccount : metaMaskAccount)\n}\n\nexport const useChainId = () => {\n  const currentSpace = useCurrentSpace()\n  const fluentChainId = useFluentChainId()\n  const metaMaskChainId = useMetaMaskChainId()\n  if (!currentSpace) return undefined\n  return (currentSpace === 'core' ? fluentChainId : metaMaskChainId)\n}\n\nexport const useBalance = () => {\n  const currentSpace = useCurrentSpace()\n  const fluentBalance = useFluentBalance()\n  const metaMaskBalance = useMetaMaskBalance()\n  if (!currentSpace) return undefined;\n  return (currentSpace === 'core' ? fluentBalance : metaMaskBalance)\n}\n\nexport const useSendTransaction = () => {\n  const currentSpace = useCurrentSpace()\n  return currentSpace === 'core'\n    ? sendTransactionWithFluent\n    : sendTransactionWithMetaMask\n}\n\nexport const useTryActivate = () => {\n  const currentSpace = useCurrentSpace()\n  return currentSpace === 'core'\n    ? connectFluent\n    : connectMetaMask\n}\n\nexport {Unit}\n","import poolConfig from '../../pool.config';\nexport const TypeConnectWallet = {\n    uninstalled: 'uninstalled',\n    loading: 'loading',\n    error: 'error',\n    success: 'success',\n}\n\nexport const NETWORK_ID_CORE_MAINNET = poolConfig.mainnet.core.networkId;\nexport const NETWORK_ID_CORE_TESTNET = poolConfig.testnet.core.networkId;\nexport const NETWORK_ID_ESPACE_MAINNET = poolConfig.mainnet.eSpace.networkId;\nexport const NETWORK_ID_ESPACE_TESTNET = poolConfig.testnet.eSpace.networkId;\nexport const CFX_BASE_PER_VOTE=1000\nexport const SCAN_URL = \"https://confluxscan.io\"\nexport const SCAN_URL_TESTNET = \"https://testnet.confluxscan.io\"\nexport const SCAN_URL_DEVENT = \"https://devnet-scantest.confluxnetwork.org\"\nexport const SCAN_URL_POS_DEV = \"https://posrc.confluxscan.net\"\nexport const RemainderAmount=1 // you must have 1 cfx in wallet to pay gas fee\n\nexport const StatusPosNode={\n    loading:'loading',\n    error:'error',\n    success:'success',\n    warning:'warning'\n}","import BigNumber from \"bignumber.js\";\nimport {\n  CFX_BASE_PER_VOTE,\n  SCAN_URL,\n  SCAN_URL_TESTNET,\n  SCAN_URL_DEVENT,\n  SCAN_URL_POS_DEV,\n  RemainderAmount,\n} from \"../constants\";\n\nexport const isTestNetEnv = () => {\n  if (typeof window !== `undefined`) {\n    return (\n      process.env.REACT_APP_TestNet === \"true\" ||\n      window.location.hostname.includes(\"test\")\n    );\n  }\n  return false;\n};\n\nexport const getCfxByVote = (vote) =>\n  new BigNumber(vote).multipliedBy(CFX_BASE_PER_VOTE).toNumber();\nexport const getApy = (data) => new BigNumber(data).dividedBy(100).toNumber();\nexport const getFee = (userFee) =>\n  new BigNumber(100).minus(new BigNumber(userFee).dividedBy(100)).toNumber();\n\n// add 10% by default\nexport function calculateGasMargin(value, margin = 0.1) {\n  return new BigNumber(value?.toString(10))\n    .multipliedBy(new BigNumber(10000).plus(new BigNumber(10000 * margin)))\n    .dividedBy(new BigNumber(10000))\n    .toFixed(0);\n}\n\nexport const getDateByBlockInterval = (minuend = 0, subtrahend = 0, space = 'core') => {\n  const minuendBn = new BigNumber(minuend);\n  const subtrahendBn = new BigNumber(subtrahend);\n  const isGreater = minuendBn.isGreaterThan(subtrahendBn);\n  const seconds = isGreater\n    ? minuendBn.minus(subtrahendBn).dividedBy(space === 'core' ? 2 : 1).toNumber()\n    : subtrahendBn.minus(minuendBn).dividedBy(space === 'core' ? 2 : 1).toNumber();\n  const futureDate = new Date(\n    new BigNumber(Date.now()).plus(seconds * 1000).toNumber()\n  );\n  const pastDate = new Date(\n    new BigNumber(Date.now()).minus(seconds * 1000).toNumber()\n  );\n  return isGreater ? futureDate : pastDate;\n};\n\nexport const getEllipsStr = (str, frontNum, endNum) => {\n  if (str) {\n    const length = str.length;\n    if (endNum === 0 && length <= frontNum) {\n      return str.substring(0, frontNum);\n    }\n    return (\n      str.substring(0, frontNum) +\n      \"...\" +\n      str.substring(length - endNum, length)\n    );\n  }\n  return \"\";\n};\n\nexport const getNetworkUrl = () => {\n  let networkVersion = \"\";\n  if (typeof window !== `undefined`) {\n    networkVersion = window.conflux?.networkVersion;\n  }\n  let url = \"\";\n  switch (networkVersion) {\n    case \"1029\":\n      url = SCAN_URL;\n      break;\n    case \"1\":\n      url = SCAN_URL_TESTNET;\n      break;\n    case \"1921\":\n      url = SCAN_URL_DEVENT;\n      break;\n    case \"8888\":\n      url = SCAN_URL_POS_DEV;\n      break;\n    default:\n      url = SCAN_URL;\n      break;\n  }\n  return url;\n};\n\nexport const getMax = (amount) => {\n  const amountBn = new BigNumber(amount);\n  if (\n    amountBn.isGreaterThanOrEqualTo(\n      new BigNumber(CFX_BASE_PER_VOTE).plus(RemainderAmount)\n    )\n  ) {\n    const multiple = Math.floor(\n      new BigNumber(amount)\n        .minus(RemainderAmount)\n        .dividedBy(CFX_BASE_PER_VOTE)\n        .toNumber()\n    );\n    return new BigNumber(multiple).multipliedBy(CFX_BASE_PER_VOTE).toNumber();\n  }\n  return 0;\n};\n\nexport const getPrecisionAmount=(amount,precision=0)=>{\n  return new BigNumber(amount).toFixed(precision)\n}\n","export default __webpack_public_path__ + \"static/media/not-allow.ecffa81e.png\";","import i18n from 'i18next'\nimport {initReactI18next} from 'react-i18next'\nimport en from './en/translation.json';\nimport zh from './zh/translation.json';\nimport id from './id/translation.json';\nimport ko from './ko/translation.json';\nimport vn from './vn/translation.json';\nimport config from '../../pool.config';\n\ni18n\n  .use(initReactI18next)\n  .init({\n    lng: config.defaultLang || 'en',\n    debug: true,\n    resources: {\n      en: {\n        translation: en\n      },\n      zh: {\n        translation: zh\n      },\n      id: {\n        translation: id\n      },\n      vn: {\n        translation: vn\n      },\n      ko: {\n        translation: ko\n      },\n    },\n    interpolation: {\n      escapeValue: false,\n    },\n  })\n\nexport default i18n\n","import { useMemo } from 'react';\nimport { isTestNetEnv } from \"../utils/index\";\nimport { NETWORK_ID_CORE_MAINNET, NETWORK_ID_CORE_TESTNET, NETWORK_ID_ESPACE_MAINNET, NETWORK_ID_ESPACE_TESTNET } from \"../constants\";\nimport poolConfig from '../../pool.config';\nimport useCurrentSpace from './useCurrentSpace';\n\nconst useCurrentNetwork = () => {\n    const currentSpace = useCurrentSpace();\n    const network = useMemo(() => {\n        if (!currentSpace) return null;\n        const networkId = isTestNetEnv() ? \n            (currentSpace === 'core' ? NETWORK_ID_CORE_TESTNET : NETWORK_ID_ESPACE_TESTNET)\n            : (currentSpace === 'core' ? NETWORK_ID_CORE_MAINNET : NETWORK_ID_ESPACE_MAINNET)\n\n        let url = poolConfig[isTestNetEnv() ? 'testnet' : 'mainnet'][currentSpace].RPC;\n        if (process.env.REACT_APP_TestNet === \"true\") {\n            url = window.location.origin + `/${currentSpace}-rpc`;\n        }\n\n        return ({\n            url,\n            networkId,\n            name: poolConfig[isTestNetEnv() ? 'testnet' : 'mainnet'][currentSpace].name\n        });\n    }, [currentSpace]);\n\n    return network;\n}\n\nexport default useCurrentNetwork;\n","import { useChainId as useFluentChainId } from \"@cfxjs/use-wallet\";\nimport { useChainId as useMetaMaskChainId } from \"@cfxjs/use-wallet/dist/ethereum\";\nimport useCurrentSpace from \"./useCurrentSpace\";\nimport useCurrentNetwork from \"./useCurrentNetwork\";\n\nconst useIsNetworkMatch = () => {\n    const currentSpace = useCurrentSpace()\n    const currentNetwork = useCurrentNetwork()\n    const fluentChainId = useFluentChainId()\n    const metaMaskChainId = useMetaMaskChainId()\n    if (!currentSpace) return true;\n    const usedChainId = currentSpace === 'core' ? fluentChainId : metaMaskChainId\n    return String(currentNetwork.networkId) === String(usedChainId);\n}\n\nexport default useIsNetworkMatch;","import { createPortal } from 'react-dom'\nimport { Link } from 'react-router-dom'\nimport { Layout, Button, Select } from 'antd'\nimport { useTranslation } from 'react-i18next'\nimport { useTryActivate, useAccount } from '../../../hooks/useWallet';\nimport { isTestNetEnv } from '../../../utils'\nimport NotAllow from '../../../images/not-allow.png'\nimport i18n from '../../../../public/locales'\nimport useCurrentSpace from '../../../hooks/useCurrentSpace'\nimport useCurrentNetwork from '../../../hooks/useCurrentNetwork'\nimport useIsNetworkMatch from '../../../hooks/useIsNetworkMatch'\n\nconst { Option } = Select\nconst { Header } = Layout\nconst isTest = isTestNetEnv()\n\nfunction HeaderComp() {\n  const { t } = useTranslation()\n  const address = useAccount()\n  const tryActivate = useTryActivate()\n  const isNetworkMatch = useIsNetworkMatch()\n  const networkError = !isNetworkMatch\n  const currentSpace = useCurrentSpace()\n  const currentNetwork = useCurrentNetwork()\n\n  return (\n    <Header style={{ width: '100%', height: 'fit-content', padding: 0 }}>\n      {isTest && (\n        <div className=\"w-full h-[64px] leading-[64px] text-[#f3504f] bg-[#f3504f] bg-opacity-20 z-[49] text-[16px] text-center border-b border-[#f3504f]\">\n          {t('Header.test_note')}\n        </div>\n      )}\n      <div className=\"flex justify-between text-white bg-main-back bg-opacity-0 px-[50px]\">\n        <div>\n          <Link\n            to=\"/pool-manage\"\n          >\n            {t('Header.pos_pool')}\n          </Link>\n        </div>\n        <div className=\"flex items-center\">\n          <Select\n            style={{ marginRight: '20px' }}\n            defaultValue={i18n.language}\n            onChange={lng => i18n.changeLanguage(lng)}\n          >\n            <Option value=\"en\">English</Option>\n            <Option value=\"zh\">中文</Option>\n            <Option value=\"vn\">Vietnamese</Option>\n            <Option value=\"id\">Indonesian</Option>\n            <Option value=\"ko\">Korean</Option>\n          </Select>\n          {currentSpace && address && <div>{address}</div>}\n          {currentSpace && !address && (\n            <Button type=\"primary\" onClick={tryActivate}>\n              {t(currentSpace === 'core' ? 'Header.connect_fluent' : 'Header.connect_metamask')}\n            </Button>\n          )}\n        </div>\n      </div>\n\n      {networkError &&\n        createPortal(\n          <div className=\"fixed top-0 left-0 w-[100vw] h-[100vh] bg-black bg-opacity-25 z-50\">\n            <div className=\"absolute top-[40%] left-[50%] translate-x-[-50%] translate-y-[-50%] flex flex-col justify-center items-center w-[480px] h-[390px] px-[28px] py-[12px] bg-white shadow rounded-md\">\n              <img\n                className=\"w-[340px] h-[240px]\"\n                src={NotAllow}\n                alt=\"not allow imgs\"\n              />\n              <p className=\"text-[32px] leading-[32px] text-[#333] my-[16px] font-bold\">\n                {t('Header.error')}\n              </p>\n              <p className=\"text-[16px] leading-[24px] text-[#999] my-0 font-medium\">\n                {t('Header.unspport_network_switch', { network: currentNetwork?.name || '' })}\n              </p>\n            </div>\n          </div>,\n          document.body,\n        )}\n    </Header>\n  )\n}\n\nexport default HeaderComp\n","import {\n  format,\n  Drip,\n  Conflux,\n} from 'js-conflux-sdk/dist/js-conflux-sdk.umd.min.js'\nimport {abi as posPoolAbi} from './../../../contract/ABI/IPoSPool.json'\nimport {abi as posManagerAbi} from './../../../contract/ABI/PoolManager.json'\nimport poolConfig from '../../pool.config'\nimport {isTestNetEnv} from './index'\nimport {NETWORK_ID_CORE_MAINNET, NETWORK_ID_CORE_TESTNET} from '../constants'\n\nlet cfxUrl = poolConfig[isTestNetEnv() ? 'testnet' : 'mainnet'].core.RPC\nif (process.env.REACT_APP_TestNet === 'true') {\n  cfxUrl = window.location.origin + `/core-rpc`\n}\n\nexport const conflux = new Conflux({\n  url: cfxUrl,\n  networkId: isTestNetEnv() ? NETWORK_ID_CORE_TESTNET : NETWORK_ID_CORE_MAINNET,\n})\n\nexport const posPoolManagerContract = conflux.Contract({\n  abi: posManagerAbi,\n  address:\n    poolConfig[isTestNetEnv() ? 'testnet' : 'mainnet'].poolManagerAddress,\n})\n\nexport const getPosAccountByPowAddress = async address => {\n  const posPoolContract = conflux.Contract({\n    abi: posPoolAbi,\n    address: address,\n  });\n\n  const posAddress = format.hex(await posPoolContract.posAddress())\n  const posAccout = await conflux.provider.call('pos_getAccount', posAddress)\n  return posAccout\n}\n\nexport {format, Drip}\n","import React, { useState, useEffect } from \"react\";\nimport { Table, Space, Tag, } from \"antd\";\nimport { RightCircleOutlined } from \"@ant-design/icons\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useTranslation } from 'react-i18next';\nimport { format } from 'js-conflux-sdk';\nimport { getCfxByVote, getApy, getFee } from \"../../utils\";\nimport {\n  getPosAccountByPowAddress,\n  posPoolManagerContract,\n} from \"../../utils/cfx\";\n// import {useAccount} from '../../hooks/useWallet';\nimport {StatusPosNode} from '../../constants'\n\nfunction Home() {\n  const { t } = useTranslation();\n  const [dataList, setDataList] = useState([])\n  const [loading,setLoading]=useState(false)\n  const navigate = useNavigate()\n  // const accountAddress = useAccount()\n  const gotoPoolPage = ({\n    address,\n    space,\n    coreAddress\n  }) => {\n    if (address && space) {\n      navigate(`/pool/${space}/${address}${space === 'e-space' ? `?coreAddress=${coreAddress}` : ''}`);\n    }\n  };\n  const columns = [\n    {\n      title: t(\"Home.status\"),\n      key: \"status\",\n      dataIndex: \"status\",\n      width:100,\n      render: (status) => (\n        <>\n          {\n            status===\"success\"&&<Tag color=\"green\">{t(\"Home.status_good\")}</Tag>\n          }\n          {\n            status===\"error\"&&<Tag color=\"error\">{t(\"Home.status_error\")}</Tag>\n          }\n          {\n            status===\"warning\"&&<Tag color=\"warning\">{t(\"Home.status_warning\")}</Tag>\n          }\n        </>\n      ),\n    },\n    {\n      title: t(\"Home.pool\"),\n      dataIndex: \"name\",\n      key: \"name\",\n      width:200\n    },\n    {\n      title: t(\"Home.total_locked\"),\n      dataIndex: \"totalAvailable\",\n      key: \"totalAvailable\",\n      width:200\n    },\n    {\n      title: t(\"Home.apy\"),\n      dataIndex: \"apy\",\n      key: \"apy\",\n      width:100,\n    },\n    {\n      title: t(\"Home.performance_fee\"),\n      dataIndex: \"fee\",\n      key: \"fee\",\n      width:150\n    },\n    {\n      title: \"Core\",\n      key: \"action1\",\n      width: 60,\n      render: (text, record) => {\n        return (\n          <Space size=\"middle\">\n              <RightCircleOutlined\n                onClick={() => gotoPoolPage({ address: record.coreAddress, space: 'core' })}\n                style={{ fontSize: \"28px\", color: \"#08c\" }}\n              />\n          </Space>\n        );\n      },\n    },\n    {\n      title: \"eSpace\",\n      key: \"action2\",\n      width:60,\n      render: (text, record) => {\n        if (!record.eSpaceAddress) return null;\n        return (\n          <Space size=\"middle\">\n              <RightCircleOutlined\n                onClick={() => gotoPoolPage({ address: record.eSpaceAddress, space: 'e-space', coreAddress: record.coreAddress })}\n                style={{ fontSize: \"28px\", color: \"#08c\" }}\n              />\n          </Space>\n        );\n      },\n    },\n  ];\n\n  useEffect(() => {\n    async function getData() {\n      setLoading(true)\n      try {\n        // const options = {};\n        // if (accountAddress) {\n        //   options.from = accountAddress;\n        // }\n        // const list = await posPoolManagerContract.getPools().call(options)\n\n        const list = await posPoolManagerContract.getPools()\n        const eSpaceAddresses = await Promise.allSettled(list.map(async pool => await posPoolManagerContract.eSpacePoolAddresses(pool[3])));\n        const data = await transferData(list, eSpaceAddresses);\n        setDataList(data);\n        setLoading(false)\n      } catch (error) {\n        console.log('error', error);\n        setDataList([]);\n        setLoading(false)\n      }\n    }\n    getData();\n  }, []);\n\n  const transferData = async (list, eSpaceAddresses) => {\n    const arr = [];\n    const proArr = [];\n    list.forEach((item) => {\n      const address = item[3];\n      proArr.push(getPosAccountByPowAddress(address));\n    });\n\n    try {\n      const proRes = await Promise.all(proArr);\n      list.forEach((item, index) => {\n        arr.push({\n          key: item[3],\n          coreAddress: item[3],\n          eSpaceAddress: eSpaceAddresses?.[index]?.value && format.hexAddress(eSpaceAddresses?.[index]?.value) !== '0x0000000000000000000000000000000000000000' ? eSpaceAddresses?.[index]?.value : undefined,\n          totalAvailable: getCfxByVote(item[2]),\n          name: item[4],\n          apy: getApy(item[0]) + \"%\",\n          fee: getFee(item[1]) + \"%\",\n          status: proRes[index]?.status?.forceRetired == null? StatusPosNode.success\n          : StatusPosNode.error,\n        });\n      });\n    } catch (error) {\n      list.forEach((item, index) => {\n        arr.push({\n          key: item[3],\n          coreAddress: item[3],\n          eSpaceAddress: eSpaceAddresses?.[index]?.value && format.hexAddress(eSpaceAddresses?.[index]?.value) !== '0x0000000000000000000000000000000000000000' ? eSpaceAddresses?.[index]?.value : undefined,\n          totalAvailable: getCfxByVote(item[2]),\n          name: item[4],\n          apy: getApy(item[0]) + \"%\",\n          fee: getFee(item[1]) + \"%\",\n          status: \"warning\",\n        });\n      });\n    }\n    \n    return arr;\n  };\n  return (\n    <div className=\"w-full h-full flex items-center justify-center\">\n      <Table columns={columns} dataSource={dataList} pagination={false} size='middle' loading={loading} />\n    </div>\n  );\n}\n\nexport default Home;\n","import { useMemo } from 'react';\nimport {Conflux} from \"js-conflux-sdk/dist/js-conflux-sdk.umd.min.js\";\nimport useCurrentNetwork from './useCurrentNetwork';\nimport useCurrentSpace from './useCurrentSpace';\nimport { ethers, Contract} from 'ethers';\n\nconst useController = () => {\n    const currentSpace = useCurrentSpace();\n    const currentNetwork = useCurrentNetwork();\n    return useMemo(() => {\n        if (currentSpace === 'eSpace') {\n            const provider = new ethers.providers.JsonRpcProvider(currentNetwork.url);\n            return {\n                Contract: ({ abi, address }) => new Contract(address, abi, provider),\n                provider\n            }\n        }\n        return new Conflux(currentNetwork)\n    }, [currentSpace, currentNetwork]);\n}\n\nexport default useController;\n","import { useMemo } from 'react';\nimport useController from './useController';\nimport { abi as posPoolAbi } from \"./../../../contract/ABI/IPoSPool.json\";\nimport { useParams } from \"react-router-dom\";\nimport { utils } from 'ethers';\n\nconst usePoolContract = () => {\n    const { poolAddress } = useParams();\n    const controller = useController();\n\n    return useMemo(() => {\n        return {\n            contract: controller.Contract({\n                abi: posPoolAbi,\n                address: poolAddress,\n            }),\n            interface: new utils.Interface(posPoolAbi)\n        }\n    }\n    , [poolAddress, controller]);\n}\n\nexport default usePoolContract;\n","import React, { useState, useEffect } from \"react\";\nimport { Card, Tag } from \"antd\";\nimport { useParams } from \"react-router-dom\";\nimport BigNumber from \"bignumber.js\";\nimport {\n  CheckCircleOutlined,SyncOutlined,CloseCircleOutlined\n} from '@ant-design/icons';\n\nimport { Drip } from \"../../utils/cfx\";\nimport { getCfxByVote, getApy,getPrecisionAmount } from \"../../utils\";\nimport { StatusPosNode } from \"../../constants\";\nimport {useTranslation} from 'react-i18next'\nimport usePosPoolContract from '../../hooks/usePoolContract'\n\n\nfunction Header({ status }) {\n  const {t} = useTranslation()\n\n  let { poolAddress } = useParams();\n  const { contract: posPoolContract } = usePosPoolContract();\n  const [lockedCfx, setLockedCfx] = useState(0);\n  const [totalRevenue, setTotalRevenue] = useState(0);\n  const [apy, setApy] = useState(0);\n  const [name, setName]=useState('loading...')\n\n  const getStatusTag=(status)=>{\n    let icon=null\n    let color=''\n    let text=''\n    switch(status){\n      case StatusPosNode.loading:\n        icon=<SyncOutlined spin style={{ transform: 'translateY(-3.5px)' }} />\n        color='default'\n        text=t(\"Home.status_loading\")\n        break;\n      case StatusPosNode.success:\n        icon=<CheckCircleOutlined style={{ transform: 'translateY(-3.5px)' }} />\n        color='success'\n        text=t(\"Home.status_good\")\n        break;\n      case StatusPosNode.error:\n        icon=<CloseCircleOutlined style={{ transform: 'translateY(-3.5px)' }} />\n        color='error'\n        text=t(\"Home.status_error\")\n        break;  \n      case StatusPosNode.warning:\n        icon=<></>\n        color='warning'\n        text=t(\"Home.status_warning\")\n        break;  \n      default:break  \n    }\n    return <Tag color={color} icon={icon}>{text}</Tag>\n  }\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const proArr = [];\n        proArr.push(posPoolContract.poolSummary());\n        proArr.push(posPoolContract.poolAPY());\n        proArr.push(posPoolContract.poolName());\n\n        const data = await Promise.all(proArr);\n        const poolSummary = data[0];\n        setLockedCfx(getCfxByVote(poolSummary?.[0]?._hex || poolSummary?.[0]));\n        setTotalRevenue(\n          new Drip(\n            new BigNumber(poolSummary?.[2]?._hex || poolSummary?.[2]).minus(poolSummary?.[1]?._hex || poolSummary?.[1]).toNumber()\n          ).toCFX()\n        );\n        setApy(getApy(data?.[1]?._hex || data[1]));\n        setName(data[2] || 'UnNamed')\n      } catch (error) {}\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [poolAddress]);\n\n  const cardStyle = {\n    backgroundColor: \"#4d5a7e\",\n    borderRadius: \"10px\",\n    color: \"#fff\",\n    fontWeight: \"700\",\n  };\n  const cardHeadStyle = { color: \"#fff\", opacity: \"0.6\" };\n  return (\n    <div className=\"flex\">\n      <div className=\"flex-1 pr-4 \">\n        <Card\n          title={t(\"Home.status\")}\n          bordered={false}\n          style={cardStyle}\n          headStyle={cardHeadStyle}\n        >\n          {getStatusTag(status)}\n        </Card>\n      </div>\n      <div className=\"flex-1 pr-4\">\n        <Card\n          title={t(\"Home.pool\")}\n          bordered={false}\n          style={cardStyle}\n          headStyle={cardHeadStyle}\n        >\n          <div>{name}</div>\n        </Card>\n      </div>\n      <div className=\"flex-1 pr-4\">\n        <Card\n          title={t(\"Home.total_locked\")}\n          bordered={false}\n          style={cardStyle}\n          headStyle={cardHeadStyle}\n        >\n          <div>{lockedCfx}</div>\n        </Card>\n      </div>\n      <div className=\"flex-1 pr-4\">\n        <Card title={t(\"Home.total_revenue\")} bordered={false} style={cardStyle} headStyle={cardHeadStyle}>\n          <div>{getPrecisionAmount(totalRevenue,5)}</div>\n        </Card>\n      </div>\n      <div className=\"flex-1\">\n        <Card title={t(\"Home.apy\")} bordered={false} style={cardStyle} headStyle={cardHeadStyle}>\n          <div>{apy + \"%\"}</div>\n        </Card>\n      </div>\n    </div>\n  );\n}\nexport default Header;\n","import {Modal} from 'antd'\nimport {useTranslation} from 'react-i18next'\n\nfunction ConfirmModal({type, visible, setVisible, onOk}) {\n  const {t} = useTranslation()\n\n  let content = <></>\n  let okText = ''\n  switch (type) {\n    case 'stake':\n      okText = t('ConfirmModal.stake')\n      content = (\n        <div>\n          <div className=\"text-center text-error text-base font-bold mt-2 mb-4\">\n            {t('ConfirmModal.stake_1')}\n          </div>\n          <div className=\"leading-6\">{t('ConfirmModal.stake_2')}</div>\n          <div className=\"leading-6\">{t('ConfirmModal.stake_3')}</div>\n          <div className=\"leading-6\">{t('ConfirmModal.stake_4')}</div>\n        </div>\n      )\n      break\n    case 'unstake':\n      okText = t('ConfirmModal.unstake')\n      content = (\n        <div>\n          <div>{t('ConfirmModal.unstake_1')}</div>\n          <div>{t('ConfirmModal.unstake_2')}</div>\n          <div>{t('ConfirmModal.unstake_3')}</div>\n        </div>\n      )\n      break\n    default:\n      break\n  }\n  return (\n    <Modal\n      title=\"Confirm\"\n      visible={visible}\n      onOk={onOk}\n      okText={okText}\n      onCancel={() => {\n        setVisible(false)\n      }}\n    >\n      {content}\n    </Modal>\n  )\n}\nexport default ConfirmModal\n","import { Modal } from \"antd\";\nimport {useTranslation} from 'react-i18next'\n\nimport successImg from \"../../images/success_big.png\"\nimport { getEllipsStr, getNetworkUrl } from \"../../utils\"\n\nconst TxModal = ({ visible = false, txHash, setVisible }) => {\n  const {t} = useTranslation();\n  const url = getNetworkUrl()\n  return (\n    <>\n      <Modal\n        maskClosable={false}\n        visible={visible}\n        onCancel={()=>{setVisible(false)}}\n        footer={null}\n      >\n          <div className=\"flex flex-col items-center \">\n            <img src={successImg} alt=\"success\" className=\"w-14\" />\n            <div className=\"my-2\">\n            {t(\"TxModal.transaction_submitted\")}\n            </div>\n            <div className=\"\">\n              <span>\n              {t(\"TxModal.transaction_hash\")}\n              </span>\n              {txHash&&<a\n                href={`${url}/transaction/${txHash}`}\n                target=\"_blank\"\n                className=\"content ml-1\"\n                rel=\"noopener noreferrer\"\n              >\n                {getEllipsStr(txHash, 8, 0)}\n              </a>}\n            </div>\n          </div>\n      </Modal>\n    </>\n  )\n}\nexport default TxModal\n","export default \"data:image/png;base64,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\"","import React, {useState, useEffect, useCallback} from 'react'\nimport {Input, Button, Divider, Form, List, message, Col, Row, Spin} from 'antd'\nimport {useParams, useSearchParams} from 'react-router-dom'\nimport BigNumber from 'bignumber.js'\nimport {format} from 'js-conflux-sdk/dist/js-conflux-sdk.umd.min.js'\nimport {useTranslation} from 'react-i18next'\nimport {\n  Drip,\n  getPosAccountByPowAddress,\n  conflux as confluxController,\n} from '../../utils/cfx'\nimport {\n  getCfxByVote,\n  getFee,\n  getDateByBlockInterval,\n  getMax,\n  getPrecisionAmount,\n  calculateGasMargin\n} from '../../utils'\nimport {\n  useBalance,\n  useAccount,\n  useChainId,\n  useSendTransaction,\n  Unit,\n} from '../../hooks/useWallet'\nimport { provider as metaMaskProvider } from '@cfxjs/use-wallet/dist/ethereum'\nimport useCurrentSpace from '../../hooks/useCurrentSpace'\nimport {CFX_BASE_PER_VOTE, StatusPosNode} from '../../constants'\nimport Header from './Header'\nimport ConfirmModal from './ConfirmModal'\nimport TxModal from './TxModal'\nimport usePoolContract from '../../hooks/usePoolContract'\nimport useCurrentNetwork from '../../hooks/useCurrentNetwork'\nimport useIsNetworkMatch from '../../hooks/useIsNetworkMatch'\n\nfunction Pool() {\n  const {t} = useTranslation()\n  const currentSpace = useCurrentSpace()\n  const chainId = useChainId()\n  const accountAddress = useAccount()\n  const sendTransaction = useSendTransaction()\n  const [form] = Form.useForm()\n  const _balance = useBalance()\n  const balance = _balance?.toDecimalStandardUnit(5)\n  const cfxMaxCanStake = getMax(balance)\n  const {poolAddress} = useParams()\n  const [searchParams] = useSearchParams()\n  const currentNetwork = useCurrentNetwork();\n\n  const {contract: posPoolContract, interface: posPoolInterface} =\n    usePoolContract()\n  const [status, setStatus] = useState(StatusPosNode.loading)\n  const [stakedCfx, setStakedCfx] = useState(0)\n  const [rewards, setRewards] = useState(0)\n  const [fee, setFee] = useState(0)\n  const [cfxCanUnstake, setCfxCanUnstate] = useState(0)\n  const [cfxCanWithdraw, setCfxCanWithdraw] = useState(0)\n  const [inputStakeCfx, setInputStakeCfx] = useState('')\n  const [inputUnstakeCfx, setInputUnstakeCfx] = useState('')\n  const [userSummary, setUserSummary] = useState([])\n  const [currentBlockNumber, setCurrentBlockNumber] = useState(0)\n  const [lastDistributeTime, setLastDistributeTime] = useState('')\n  const [unstakeList, setUnstakeList] = useState([])\n  const [stakeModalShown, setStakeModalShown] = useState(false)\n  const [unstakeModalShown, setUnStakeModalShown] = useState(false)\n  const [txModalShown, setTxModalShown] = useState(false)\n  const [txHash, setTxHash] = useState('')\n  const [stakeInputStatus, setStakeInputStatus] = useState('error')\n  const [stakeErrorText, setStakeErrorText] = useState('')\n  const [unstakeInputStatus, setUnstakeInputStatus] = useState('error')\n  const [unstakeErrorText, setUnstakeErrorText] = useState('')\n  const [stakeBtnDisabled, setStakeBtnDisabled] = useState(true)\n  const [unstakeBtnDisabled, setUnstakeBtnDisabled] = useState(true)\n  const [isLoading, setIsLoading] = useState(false)\n  const [waitStakeRes, setWaitStakeRes] = useState(false)\n  const isNetworkMatch = useIsNetworkMatch()\n\n  useEffect(() => {\n    async function fetchData() {\n      const proArr = []\n      proArr.push(\n        currentSpace === 'core' ?\n        confluxController.provider.call('cfx_getStatus')\n        : fetch(currentNetwork.url, {\n          body: JSON.stringify({\n            jsonrpc: '2.0',\n            method: 'eth_blockNumber',\n            params: [],\n            id: 83\n          }),\n          headers: {'content-type': 'application/json'},\n          method: 'POST',\n        }).then(response => response?.json()).then(res => res?.result)\n      )\n      proArr.push(confluxController.provider.call('cfx_getPoSEconomics'))\n      const data = await Promise.all(proArr)\n      \n      let currentBlock;\n      if (currentSpace === 'core') {\n        currentBlock = new BigNumber(data[0]?.blockNumber || 0).toNumber()\n      } else {\n        currentBlock = new BigNumber(data[0] || 0).toNumber()\n      }\n      const lastDistribute = new BigNumber(\n        data[1]?.lastDistributeBlock || 0,\n      ).toNumber()\n      setCurrentBlockNumber(currentBlock)\n      setLastDistributeTime(\n        getDateByBlockInterval(\n          lastDistribute,\n          currentBlock,\n          currentSpace,\n        ).toLocaleString(),\n      )\n    }\n    fetchData()\n  }, [currentSpace, currentNetwork?.url])\n\n  useEffect(() => {\n    if (status) {\n      if (stakeErrorText) {\n        setStakeBtnDisabled(true)\n      } else {\n        setStakeBtnDisabled(false)\n      }\n    } else {\n      setStakeBtnDisabled(true)\n    }\n  }, [stakeErrorText, status])\n\n  useEffect(() => {\n    if (status) {\n      if (unstakeErrorText) {\n        setUnstakeBtnDisabled(true)\n      } else {\n        setUnstakeBtnDisabled(false)\n      }\n    } else {\n      setUnstakeBtnDisabled(true)\n    }\n  }, [unstakeErrorText, status])\n\n  useEffect(() => {\n    if (currentSpace === 'eSpace' && !searchParams.get('coreAddress')) {\n      setStatus(StatusPosNode.warning)\n      return\n    }\n    async function fetchData() {\n      try {\n        const posAccount = await getPosAccountByPowAddress(\n          currentSpace === 'core'\n            ? poolAddress\n            : searchParams.get('coreAddress'),\n        )\n        setStatus(\n          posAccount.status?.forceRetired == null\n            ? StatusPosNode.success\n            : StatusPosNode.error,\n        )\n      } catch (error) {\n        console.log(error)\n        setStatus(StatusPosNode.warning)\n      }\n    }\n    fetchData()\n  }, [currentSpace, searchParams, poolAddress])\n\n  useEffect(() => {\n    try {\n      const stakeCfxNum = Number(inputStakeCfx)\n      if (\n        stakeCfxNum >= CFX_BASE_PER_VOTE &&\n        stakeCfxNum <= cfxMaxCanStake &&\n        stakeCfxNum % CFX_BASE_PER_VOTE === 0\n      ) {\n        setStakeInputStatus('green')\n        setStakeErrorText('')\n      } else {\n        setStakeInputStatus('error')\n        setStakeErrorText(t('Pool.wrong_amount'))\n      }\n    } catch (error) {\n      setStakeInputStatus('error')\n      setStakeErrorText(t('Pool.wrong_amount'))\n    }\n  }, [cfxMaxCanStake, inputStakeCfx, t])\n\n  useEffect(() => {\n    try {\n      const cfxNum = Number(inputUnstakeCfx)\n      if (\n        cfxNum >= CFX_BASE_PER_VOTE &&\n        cfxNum <= cfxCanUnstake &&\n        cfxNum % CFX_BASE_PER_VOTE === 0\n      ) {\n        setUnstakeInputStatus('green')\n        setUnstakeErrorText('')\n      } else {\n        setUnstakeInputStatus('error')\n        setUnstakeErrorText(t('Pool.wrong_amount'))\n      }\n    } catch (error) {\n      setUnstakeInputStatus('error')\n      setUnstakeErrorText(t('Pool.wrong_amount'))\n    }\n  }, [cfxCanUnstake, inputUnstakeCfx, t])\n\n  function resetData() {\n    setStakedCfx(0)\n    setRewards(0)\n    setCfxCanUnstate(0)\n    setCfxCanWithdraw(0)\n  }\n\n  const fetchPoolData = useCallback(async () => {\n    if (isLoading || currentBlockNumber === 0) return\n    setIsLoading(true)\n    try {\n      const proArr = []\n      proArr.push(posPoolContract.userSummary(accountAddress))\n      proArr.push(posPoolContract.userInterest(accountAddress))\n      proArr.push(\n        (\n          posPoolContract.userOutQueue ||\n          posPoolContract['userOutQueue(address)']\n        )(accountAddress),\n      )\n\n      const data = await Promise.all(proArr)\n      const userSum = data[0]\n      setUserSummary(userSum)\n      setStakedCfx(\n        new BigNumber(userSum?.[1]?._hex || userSum[1] || 0)\n          .multipliedBy(CFX_BASE_PER_VOTE)\n          .toString(10),\n      )\n      setCfxCanUnstate(getCfxByVote(userSum?.[2]?._hex || userSum[2]))\n      setCfxCanWithdraw(getCfxByVote(userSum?.[3]?._hex || userSum[3]))\n      setRewards(\n        getPrecisionAmount(\n          new Drip(\n            new BigNumber(data[1]?._hex || data[1]).toString(10),\n          ).toCFX(),\n          5,\n        ),\n      )\n      setUnstakeList(transferQueue(data[2]))\n\n      // get user performance fee\n      let fee\n      try {\n        fee = await posPoolContract\n          .userShareRatio()\n          .call({from: accountAddress})\n      } catch (err) {\n        fee = await posPoolContract.poolUserShareRatio()\n      }\n      // console.log(\"User performance fee: \", fee);\n      setFee(getFee(fee?._hex || fee))\n\n      setIsLoading(false)\n    } catch (error) {\n      console.log('fetchPoolData error: ', error)\n      setIsLoading(false)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [accountAddress, currentBlockNumber, isLoading])\n\n  useEffect(() => {\n    if (!waitStakeRes) return\n    if (accountAddress) {\n      fetchPoolData()\n      setWaitStakeRes(false)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [balance])\n\n  useEffect(() => {\n    if (accountAddress) {\n      fetchPoolData()\n    } else {\n      resetData()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [accountAddress, currentBlockNumber])\n\n  const transferQueue = queueList => {\n    if (queueList?.length === 0) return []\n    const arr = []\n    queueList.forEach(item => {\n      const blockNumber = new BigNumber(item[1]?._hex || item[1]).toNumber()\n      if (blockNumber > currentBlockNumber) {\n        arr.push({\n          amount: getCfxByVote(item[0]?._hex || item[0]),\n          timeStr: getDateByBlockInterval(\n            blockNumber,\n            currentBlockNumber,\n            currentSpace,\n          ).toLocaleString(),\n        })\n      }\n    })\n    return arr\n  }\n\n  const onStakeChange = e => {\n    setInputStakeCfx(e.target.value)\n  }\n\n  const onUnstakeChange = e => {\n    setInputUnstakeCfx(e.target.value)\n  }\n\n  const submit = async type => {\n    if (!accountAddress) {\n      message.error('Please connect Fluent')\n      return\n    }\n\n    try {\n      let data = ''\n      let estimateData = {}\n      let value = 0\n      switch (type) {\n        case 'stake':\n          value = new BigNumber(inputStakeCfx)\n            .multipliedBy(10 ** 18)\n            .toString(10)\n          const stakeVote = new BigNumber(inputStakeCfx)\n            .dividedBy(CFX_BASE_PER_VOTE)\n            .toString(10)\n          if (currentSpace === 'core') {\n            data = posPoolContract.increaseStake(stakeVote).data\n            estimateData = await posPoolContract\n              .increaseStake(stakeVote)\n              .estimateGasAndCollateral({\n                from: accountAddress,\n                value,\n              })\n          } else {\n            data = posPoolInterface.encodeFunctionData('increaseStake', [stakeVote])\n          }\n          setWaitStakeRes(true)\n          break\n        case 'unstake':\n          value = 0\n          const unstakeVote = new BigNumber(inputUnstakeCfx)\n            .dividedBy(CFX_BASE_PER_VOTE)\n            .toString(10)\n          if (currentSpace === 'core') {\n            data = posPoolContract.decreaseStake(unstakeVote).data\n            estimateData = await posPoolContract\n              .decreaseStake(unstakeVote)\n              .estimateGasAndCollateral({\n                from: accountAddress,\n              })\n          } else {\n            data = posPoolInterface.encodeFunctionData('decreaseStake', [\n              unstakeVote,\n            ])\n          }\n          break\n        case 'claim':\n          value = 0\n          if (currentSpace === 'core') {\n            data = posPoolContract.claimAllInterest().data\n            estimateData = await posPoolContract\n              .claimAllInterest()\n              .estimateGasAndCollateral({\n                from: accountAddress,\n              })\n          } else {\n            data = posPoolInterface.encodeFunctionData('claimAllInterest', [])\n          }\n          break\n        case 'withdraw':\n          value = 0\n          if (currentSpace === 'core') {\n            data = posPoolContract.withdrawStake(\n              new BigNumber(userSummary?.[3]?._hex || userSummary[3]).toString(\n                10,\n              ),\n            ).data\n            estimateData = await posPoolContract\n              .withdrawStake(new BigNumber(userSummary[3]).toString(10))\n              .estimateGasAndCollateral({\n                from: accountAddress,\n              })\n          } else {\n            data = posPoolInterface.encodeFunctionData('withdrawStake', [\n              new BigNumber(userSummary?.[3]?._hex || userSummary[3]).toString(\n                10,\n              ),\n            ])\n          }\n          break\n        default:\n          break\n      }\n      const txParams = {\n        to:\n          currentSpace === 'core'\n            ? format.address(poolAddress, Number(chainId))\n            : poolAddress,\n        data,\n        value: Unit.fromMinUnit(value).toHexMinUnit()\n      }\n      \n      if (currentSpace === 'eSpace') {\n        estimateData.gasLimit = await metaMaskProvider\n          .request({\n            method: 'eth_estimateGas',\n            params: [\n                {\n                    from: accountAddress,\n                    data,\n                    to: poolAddress,\n                    value: Unit.fromMinUnit(value).toHexMinUnit(),\n                },\n            ],\n        })\n      }\n      if (estimateData?.gasLimit) {\n        txParams.gas = Unit.fromMinUnit(calculateGasMargin(estimateData?.gasLimit || 0)).toHexMinUnit()\n      }\n      if (estimateData?.storageCollateralized) {\n        txParams.storageLimit = Unit.fromMinUnit(calculateGasMargin(String(estimateData?.storageCollateralized || 0))).toHexMinUnit()\n      }\n\n      if (stakeModalShown) {\n        setStakeModalShown(false)\n      }\n      if (unstakeModalShown) {\n        setUnStakeModalShown(false)\n      }\n      const txHash = await sendTransaction(txParams)\n      setTxHash(txHash)\n      setTxModalShown(true)\n    } catch (error) {\n      console.error('error', error)\n    }\n  }\n\n  const checkNetwork = callback => {\n    if (!isNetworkMatch) {\n      return\n    }\n\n    if (typeof callback === 'function') callback()\n  }\n\n  return (\n    <div className=\"relative w-full h-full flex\">\n      {isLoading &&\n          <Spin className='top-[50%] left-[50%] -translate-x-[50%] -translate-y-[50%]' style={{ position: 'absolute'}}></Spin>\n      }\n      <div className=\"container mx-auto\">\n        <Header status={status} />\n        <div className=\"flex justify-center mt-6\">\n          <div className=\"w-9/12\">\n            <div className=\"flex\">\n              <div className=\"flex-1 p-6 mr-4 -ml-2 border-gray-800 border-2 text-white box-border rounded bg-main-back\">\n                <Form\n                  layout=\"vertical\"\n                  form={form}\n                  wrapperCol={{style: {color: 'white'}}}\n                  style={{color: 'white'}}\n                >\n                  <div className=\"font-bold my-4 text-xl text-center\">\n                    {t('Pool.stake&unstake')}\n                  </div>\n                  <div className=\"my-2\">{t('Pool.how_much_stake')}</div>\n                  <Form.Item\n                    required\n                    validateStatus={stakeInputStatus}\n                    help={stakeErrorText}\n                  >\n                    <Row>\n                      <Col span={21}>\n                        <Input\n                          placeholder={t('Pool.enter_cfx_amount')}\n                          //   addonAfter={<span>Max</span>}\n                          value={inputStakeCfx}\n                          onChange={onStakeChange}\n                        />\n                      </Col>\n                      <Col span={3}>\n                        <Button\n                          disabled={isLoading}\n                          onClick={() => {\n                            setInputStakeCfx(cfxMaxCanStake)\n                          }}\n                        >\n                          {t('Pool.max')}\n                        </Button>\n                      </Col>\n                    </Row>\n                  </Form.Item>\n                  <div>\n                    <span>{t('Pool.balance')}</span>\n                    <span className=\"ml-2 font-bold\">{balance}</span>\n                    <span> CFX</span>\n                  </div>\n                  <div className=\"flex mt-2\">\n                    <Button\n                      type=\"primary\"\n                      size=\"middle\"\n                      onClick={() => {\n                        checkNetwork(() => setStakeModalShown(true))\n                      }}\n                      disabled={isLoading || stakeBtnDisabled}\n                    >\n                      {t('Pool.stake')}\n                    </Button>\n                  </div>\n                  <Divider dashed style={{borderColor: 'white'}} />\n                  <div className=\"my-1\">{t('Pool.how_much_unstake')}</div>\n                  <Form.Item\n                    required\n                    validateStatus={unstakeInputStatus}\n                    help={unstakeErrorText}\n                  >\n                    <Row>\n                      <Col span={21}>\n                        <Input\n                          placeholder={t('Pool.enter_cfx_amount')}\n                          value={inputUnstakeCfx}\n                          onChange={onUnstakeChange}\n                        />\n                      </Col>\n                      <Col span={3}>\n                        <Button\n                          onClick={() => {\n                            setInputUnstakeCfx(cfxCanUnstake)\n                          }}\n                          disabled={isLoading}\n                        >\n                          {t('Pool.max')}\n                        </Button>\n                      </Col>\n                    </Row>\n                  </Form.Item>\n\n                  <div>\n                    <span>{t('Pool.unstakeable')}</span>\n                    <span className=\"ml-2 font-bold\">{cfxCanUnstake}</span>\n                    <span> CFX</span>\n                  </div>\n                  <div className=\"flex mt-2\">\n                    <Button\n                      type=\"primary\"\n                      size=\"middle\"\n                      onClick={() => {\n                        checkNetwork(() => setUnStakeModalShown(true))\n                      }}\n                      disabled={isLoading || unstakeBtnDisabled}\n                    >\n                      {t('Pool.unstake')}\n                    </Button>\n                  </div>\n                </Form>\n              </div>\n              <div className=\"flex-1 p-6 border-gray-800 border-2 box-border rounded bg-main-back text-white\">\n                <div className=\"font-bold my-4 text-xl text-center mb-4\">\n                  {t('Pool.my_pool')}\n                </div>\n                <div className=\"mt-7\">\n                  <span>{t('Pool.my_staked')}</span>\n                  <span className=\"ml-2 font-bold\">{stakedCfx}</span>\n                  <span> CFX</span>\n                </div>\n                <div className=\"my-4\">\n                  <span>{t('Pool.my_rewards')}</span>\n                  <span className=\"ml-2 font-bold\">{rewards}</span>\n                  <span> CFX</span>\n                  <span className=\"ml-2\">\n                    <Button\n                      type=\"primary\"\n                      size=\"small\"\n                      onClick={() => {\n                        checkNetwork(() => submit('claim'))\n                      }}\n                      disabled={isLoading || new BigNumber(rewards).isEqualTo(0)}\n                    >\n                      {t('Pool.claim')}\n                    </Button>\n                  </span>\n                </div>\n                <div className=\"my-2 opacity-60\">\n                  <span>{t('Pool.last_update_time')}</span>\n                  <span>{lastDistributeTime}</span>\n                </div>\n                <div className=\"my-4\">\n                  <span>{t('Pool.performance_fee')}</span>\n                  <span className=\"ml-2 font-bold\">{`${fee} %`}</span>\n                </div>\n                <Divider dashed style={{borderColor: 'white'}} />\n                <div>\n                  <span>{t('Pool.withdrawable')}</span>\n                  <span className=\"ml-2 font-bold\">{cfxCanWithdraw}</span>\n                  <span> CFX</span>\n                  <span className=\"ml-2\">\n                    <Button\n                      type=\"primary\"\n                      size=\"small\"\n                      onClick={() => {\n                        checkNetwork(() => submit('withdraw'))\n                      }}\n                      disabled={isLoading || !cfxCanWithdraw}\n                    >\n                      {t('Pool.withdraw')}\n                    </Button>\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div className={`${unstakeList.length > 0 ? 'block' : 'hidden'}`}>\n              <Divider\n                dashed\n                orientation=\"left\"\n                style={{borderColor: 'white', color: 'white'}}\n              >\n                {t('Pool.unstake_activity')}\n              </Divider>\n              <List\n                bordered\n                dataSource={unstakeList}\n                renderItem={item => (\n                  <List.Item>\n                    <div className=\"text-white\">{`${item.amount} CFX`}</div>\n                    <div className=\"text-white\">\n                      {t('Pool.can_withdraw_at', {time: item.timeStr})}\n                    </div>\n                  </List.Item>\n                )}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <ConfirmModal\n        visible={stakeModalShown}\n        setVisible={setStakeModalShown}\n        type=\"stake\"\n        onOk={() => {\n          submit('stake')\n        }}\n      ></ConfirmModal>\n      <ConfirmModal\n        visible={unstakeModalShown}\n        setVisible={setUnStakeModalShown}\n        type=\"unstake\"\n        onOk={() => {\n          submit('unstake')\n        }}\n      ></ConfirmModal>\n      <TxModal\n        visible={txModalShown}\n        setVisible={setTxModalShown}\n        txHash={txHash}\n      ></TxModal>\n    </div>\n  )\n}\n\nexport default Pool\n","import { Suspense } from \"react\";\nimport { BrowserRouter as Router, Routes, Route, Navigate } from \"react-router-dom\";\nimport { Spin, Layout } from \"antd\";\n\nimport \"./App.css\";\nimport { Header } from \"./pages/components\";\nimport Home from \"./pages/Home\";\nimport Pool from \"./pages/Pool\";\n\nconst { Content } = Layout;\n\nfunction App() {\n  return (\n    <Suspense\n      fallback={\n        <div className=\"w-full h-full flex items-center justify-center\">\n          <Spin className=\"w-20 h-20\" />\n        </div>\n      }\n    >\n      <Router>\n        <Layout className=\"layout\">\n          <div className=\"flex flex-col h-full relative overflow-x-hidden\">\n            <Header />\n            <Content style={{ padding: \"50px 50px\",backgroundColor:'#2d3344' }}>\n              <div>\n                <Routes>\n                  <Route path=\"pool-manage\" element={<Home />} />\n                  <Route path=\"pool/core/:poolAddress\" element={<Pool />} />\n                  <Route path=\"pool/e-space/:poolAddress\" element={<Pool />} />\n                  <Route path=\"*\" element={<Navigate to=\"pool-manage\"/>} />\n                </Routes>\n              </div>\n            </Content>\n            {/* <Footer style={{ textAlign: 'center' }}>PoS Pool</Footer> */}\n          </div>\n        </Layout>\n      </Router>\n    </Suspense>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {completeDetect} from '@cfxjs/use-wallet';\nimport {completeDetect as completeDetectEthereum} from '@cfxjs/use-wallet/dist/ethereum';\nimport '../public/locales';\n\nPromise.all([completeDetect(), completeDetectEthereum()]).then(() => {\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n});\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","module.exports = {\n  defaultLang: 'en',\n  testnet: {\n    poolManagerAddress: 'CFX:TYPE.CONTRACT:ACBB1N481P1SH74HB3EJSCE9KD352RCXG6855A6057',\n    core: {\n      name: \"Conflux Hydra\",\n      RPC: 'https://main.confluxrpc.com',\n      networkId: 1029\n    },\n    eSpace: {\n      name: \"Conflux eSpace (Testnet)\",\n      RPC: 'https://evmtestnet.confluxrpc.com',\n      networkId: 71\n    }\n  },\n  mainnet: {\n    poolManagerAddress: 'CFX:TYPE.CONTRACT:ACBB1N481P1SH74HB3EJSCE9KD352RCXG6855A6057',\n    core: {\n      name: \"Conflux Hydra\",\n      RPC: 'https://main.confluxrpc.com',\n      networkId: 1029\n    },\n    eSpace: {\n      name: \"Conflux eSpace\",\n      RPC: 'https://evm.confluxrpc.com',\n      networkId: 1030\n    }\n  }\n}\n"],"sourceRoot":""}